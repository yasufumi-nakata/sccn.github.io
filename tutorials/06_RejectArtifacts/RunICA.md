---
layout: default
title: d. Indep. Comp. Analysis
long_title: d. Independent Component Analysis
parent: 6. Reject artifacts
grand_parent: Tutorials
has_toc: false
---
アーティファクト除去のための独立したコンポーネント分析
=====
お問い合わせ

独立したコンポーネント分析(ICA)は、データを埋め込まれたアーティファクト(筋肉、目線の点滅、または目の動き)を削除/抽出するために使用できます。 <i>なし</i> 影響を受けたデータ部分を外します。 ICAは脳のソースを見つけるためにも使用することができ、チュートリアルの後にこのトピックに戻ります。 より多くの理論と背景のため 
ICAに関する情報も参照できる [アレンデックス](/tutorials/ConceptsGuide/ICA_background.html).

<details open markdown="block">
  <summary>
    コンテンツの表
  </summary>
  お問い合わせ
- トピックス
お問い合わせ
</details>

ICAプレゼンテーションを見る
-----------------------

EEGの独立したコンポーネント分析(EEGLABオンラインチュートリアルの一部)で11のショートプレゼンテーションを下回すことができます。 右上のアイコンをクリックすると、プレイリスト内のすべての動画のリストが表示されます。

<center><iframe width="560" height="315" src="https://www.youtube.com/embed/videoseries?list=PLXc9qfVbMMN2uDadxZ_OEsHjzcRtlLNxc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></center>

ランニングICA分解
---------------------------

### サンプル EEGLAB データセットをロードする

メニュー項目を選択 <span style="color: brown">ファイル</span> サブメニュー項目を押します
<span style="color: brown">既存のデータセットをロードする</span>お問い合わせ EEGLABの「sample_data」フォルダにある「eeglab_data.set」を選択します。 それから *Open*を押して下さい。

![画像:Pop_loadset.png](/assets/images/Pop_loadset.png)

理論的には、ICAを実行する前に、悪いチャンネルとデータが悪い部分を拒絶して行く必要があります。 しかし、チュートリアルデータセットは、事前のアーティファクト拒否なしでICAを実行するのに十分です。

このデータセットには、既にチャンネルの場所が含まれています。 ただし、チャネルの場所を持たないデータセットで動作する場合、選択 <span style="color: brown">編集 → チャネルの場所</span> メニュー項目を押すと、チャンネルラベルに基づいてチャネルの位置を調べる*Ok*を押して、チャンネルエディタを閉じます。

### ICAの実行

EEGのエポック(または連続した)のデータセットのICAコンポーネントを計算するには
EEGLAB データセット <span style="color: brown">ツール → ICAによるデータの分解</span>. 
お問い合わせ
関数を呼び出す [pop_runica.m ディレクティブ](http://sccn.ucsd.edu/eeglab/locatefile.php?file=pop_runica.m)お問い合わせ デフォルトオプションを使用して ICA を実行するには、
*Ok*を押してください。


![](/assets/images/Runica.gif)



このGUIの各エントリーを以下に詳しく紹介します。

### ICAアルゴリズムとは?

EEGLABは、ユーザーが試してみることを可能にします
異なるICA分解アルゴリズム。 Infomax ICA の使用 [ラニカ。 m 点](http://sccn.ucsd.edu/eeglab/locatefile.php?file=runica.m)、Jaderのアルゴリズムを使用して [ジェイダーム](http://sccn.ucsd.edu/eeglab/locatefile.php?file=jader.m)、およびSOBIアルゴリズムを使用して [ソビム](http://sccn.ucsd.edu/eeglab/locatefile.php?file=sobi.m) デフォルトの EEGLAB 分布のすべての部分です。 アルゴリズムのドロップダウンリストで利用可能なその他のオプションは、データエポック用のSOBIの修正版です()[acsobiro.mの](http://sccn.ucsd.edu/eeglab/locatefile.php?file=acsobiro.m))、および [ログイン](https://github.com/sccn/binica) インフォマックスのコンパイルされたCバージョン(MATLABとは対照的) [ラニカ。 m 点](http://sccn.ucsd.edu/eeglab/locatefile.php?file=runica.m) バージョン)

FastICAアルゴリズムを使用するには、インストールする必要があります。 [FastICAツールボックス](http://www.cis.hut.fi/projects/ica/fastica/) MATLABパスに含める。 インストールすることもできます。 [ログイン](http://bsp.teithe.gr/members/downloads/ICALABSignal.html) 他のアルゴリズムを含む分布、またはインストール [ピカード](https://github.com/pierreablin/picard) EEGLAB プラグイン、Newton の最適化を実装する Infomax のバージョン。 これらのツールでインストールされたICAアルゴリズムは、前のセクションのグラフィックインターフェイスで利用可能なICAアルゴリズムのドロップダウンリストに自動的に表示されます。

あなたはインストールすることができます [アミカ](https://github.com/japalmer29/amica) そして、 [投稿者Amicaユーティリティ](https://github.com/sccn/postAmicaUtility) EEGLABでAmicaを使用するプラグイン。 他のICAアルゴリズムとは対照的に、Amicaは標準的なICAインターフェイスを使用しず、独自のメニューを作成します。

参照して下さい [ICAコンセプトガイド](/tutorials/ConceptsGuide/ICA_background.html#note-on-ica-algorithms) 詳細情報 
異なるICAアルゴリズム。

*注意事項* 

我々は通常、より多くの試験を使用してICAを実行します
ここに示されるサンプル分解。 
ICAは、基本的に同様の量を与えられたときに最善を尽くします
主にクリーンなデータ。 チャネル数(N)が大きい場合(\>\>32)、
次に、Nコンポーネントを見つけるには、かなりの量のデータが必要になります。
不十分なデータが利用できる場合、N コンポーネントよりも少ない 'pca' オプションを使用してください。
オプション。 一般的には、ICAをできるだけ与えることが重要です。
成功するトレーニングのためにできるだけ多くのデータ。 
詳しくはこちら [ICAコンセプトガイド](/tutorials/ConceptsGuide/ICA_background.html#how-many-data-points-do-i-need-to-run-an-ica) 詳しくはこちら

### チャネルタイプの選択 

特定のチャンネルタイプを選択することが可能
(またはチャンネル番号の一覧) ICAの分解に使用する。 お問い合わせ
例えば、EEG と EMG チャネルの両方を持っている場合は、ICA を実行したい場合
EEG と EMG のシグナルとの間の関係は、EEG チャネルのみ
伝搬遅延を伴う必要があります。 ICAはインスタンスを想定
関係(例えば、一般的な容積の伝導)。 メニュー項目を使用する <span style="color: brown">編集 → チャネルの場所</span> チャンネルを定義する
タイプ。

### コマンドライン出力

run *runica.m* は MATLAB コマンドラインで次のテキストを生成します。

        入力データサイズ [32,30720] = 32 チャンネル、30720 フレーム。
        ロジスティックICAを使用して32 ICAコンポーネントを検索します。
        初期学習率は0.001、ブロックサイズ36になります。
        学習率は、角質 >=60度で0.9倍増します。
        wchange < 1e-06 以降 512 の手順でトレーニングを終了します。
        オンラインバイアス調整が使用されます。
        各チャネルの平均を取除く...
        最終的な訓練のデータ範囲:-145.3への309.344
        球面の行列を計算する...
        開始重量は、アイデンティティ行列です...
        データをスフェリング...
        ICAトレーニングを開始...
        ステップ1 - lrate 0.001000、wchange 1.105647
        ステップ2 - lrate 0.001000、wchange 0.670896
        ステップ3 - lrate 0.001000、wchange 0.385967、angledelta 66.5 deg
        ステップ4 - lrate 0.000900、wchange 0.352572、angledelta 92.0 deg
        ステップ5 - lrate 0.000810、wchange 0.253948、angledelta 95.8 deg
        ステップ6 - lrate 0.000729、wchange 0.239778、angledelta 96.8 deg
        ...
        ステップ55 - lrate 0.000005、wchange 0.000001、angledelta 65.4 deg
        ステップ56 - lrate 0.000004、wchange 0.000001、angledelta 63.1 deg
        逆転の否定的な活発化:1 -2 -3 4 -5 6 7 8 9 10 -11 -12 -13 -14 -15 -16 17 -18 -19 -20 -21 -23 24 -25 -26 -29 -29 -30 31 -32
        平均の降下順序でコンポーネントをソートするプロジェクト分散...
        1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32


注: *runica.m* で実装された Infomax アルゴリズムは、コンポーネントのみで選択できます。
スーパーガウスのアクティビティ分布(つまり、より高度にピークされたよりも
Gaussian, 逆にTのようなもの. 強い線騒音がある場合
データで、"extended"、1"をで使用して下さい
コマンドライン編集ボックス(デフォルトで設定)なので、アルゴリズムも検出できます。
ライン電流や/または遅いなどのアクティビティのサブガウスソース
活動。 

私たちがよく使うもう1つのオプションは、ストップオプションです: 'stop', 1E-7''を試す
学習を停止するための基準を下げ、それによってICAを延ばす
訓練が、特に洗剤の分解を、戻すかもしれない
高密度配列データ。

*注意事項:* 同じデータで2回実行し、ICAは下で分解します
※runica.m*は若干異なります。 つまり、注文、頭皮
トポグラフィとベストマッチングコンポーネントのアクティビティタイムコースは、
若干異なります。 ICAの分解が始まりますから
ランダムな重量行列(およびランダムに各データ順をシャッフル)
訓練のステップ)、従ってconvergenceは毎回少し異なります。 です。
これは問題ですか? 少なくとも、分解機能は、ない
同じデータの分解は安定していなければなりません
不可解なICA不確実性を除いて解釈される。 ふりがな [リリカ](https://github.com/sccn/relica) プラグイン
データをブートストラップする際にICA分解の信頼性を評価することができます。

異なるデータで訓練された分解の違い
サブセットにはいくつかの原因があります。 こんなリピートは行っていない
一般的な機能の分解と評価 - しかし、これは
音のアプローチは思える。

このチュートリアルでは、当社のデータの初期ICA分解を受け入れ、独立したコンポーネントの性質と行動を研究することにしました。

まず、一連の機能を検討しています。
目的は、どのコンポーネントを勉強するか、どのように検討するかを決定することです
それらを研究.

ICAコンポーネントの検査
==========================
*runica.m*で返されたコンポーネントの注文は、注文を解除する
各コンポーネントが占めるEEGの分散。 つまり、
コンポーネントの注文を下げる、より多くのデータ(ニューラルまたは/または)
実際のところ、アカウントのアカウントです。

コンポーネントの活性化によるスクロール
-----------------------------------------
コンポーネントのアクティベーション(タイムコース)をスクロールするには、
<span style="color: brown">Plot → コンポーネントの活性化 (スクロール)</span>.
ICAアクティベーションをスクロールすると、コンポーネントを簡単に表示できます。
特徴的なアーティファクトの会計。 例えば、スクロール中 
[eegplot.mの](http://sccn.ucsd.edu/eeglab/locatefile.php?file=eegplot.m) 以下、コンポーネント3は主にアカウントに表示される
blinks(このチュートリアルでコンポーネントを認識する方法を学びます)。

![](/assets/images/Scrollcomponentact2.png)

2Dコンポーネントのスカルプマップのプロット
----------------------------------

プロットする 2-Dスカルプコンポーネントマップ、選択 <span style="color: brown"> Plot → コンポーネントマップ → 2Dで</span>お問い合わせ 対話型ウィンドウ (below) は、
機能によって作り出される [pop_topoplot.m ディレクティブ](http://sccn.ucsd.edu/eeglab/locatefile.php?file=pop_topoplot.m)お問い合わせ *Ok*を押してプロットする
すべてのコンポーネント。

※注記:* チャンネル数やチャンネル数に応じて複数の数字を取る場合があります。
*Plotの幾何学*変数。 これを呼び出すための代替手段
チャネルの小さいグループ(例えば、*1:30*、)のための数回機能して下さい
*31:60*等。 以下は、最初の12コンポーネント(*1:12*)のみを要求します。
'electrodes', 'off' の設定を選択

![](/assets/images/I92pop_topoplot.jpg)

以下について [topoplot.mの](http://sccn.ucsd.edu/eeglab/locatefile.php?file=topoplot.m) ウィンドウが表示され、スカルプを示す
選択したコンポーネントのマップ投影。 スケールは
以下のプロットは任意単位を使用します。 コンポーネントのスケール
活動時間コースは、任意のユニットを使用する。 しかし、コンポーネントの
scalp はコンポーネントのアクティビティ・タイム・コースによって多岐に渡る値が
データと同じ単位。 

![](/assets/images/92ICA_topo.jpg)

製造業のICAコンポーネントの調査とフラグ付け
----------------------------------

独立したコンポーネントの種類を認識する学習が必要
経験。 このページでは、アーティファクチュアル ICA コンポーネントの自動検出に関する後述のセクションには、コンポーネントを認識するためのオンラインチュートリアルへのリンクが含まれています。

コンポーネントが 1) 認知的に関連した 2) 筋肉のアーティファクト、または 3) いくつかの他のタイプのかどうかを決定する主な基準
工芸品は
- まず、スカルプマップ(上図のように)、 
- コンポーネントのタイムコースの次に、 
- 次 コンポーネントアクティビティパワースペクトラム,
- お問い合わせ
(イベント関連データエポックのデータセット)、 
[エルプイメージ。 m 点](http://sccn.ucsd.edu/eeglab/locatefile.php?file=erpimage.m).

お問い合わせ
上のウィンドウ, クリックします。 scalp マップ番号 3 それを示すウィンドウをポップアップします
一人で(前に述べたように、あなたの分解とコンポーネントの注文
若干異なります。 エキスパートの目は、コンポーネント3(下)を目指す
アーティファクトコンポーネント。 

![](/assets/images/92ICA_eyecomp.jpg)


コンポーネントのプロパティとラベルコンポーネントを拒絶(すなわち、
データから抽出するコンポーネントを識別するために、
<span style="color: brown"> ツール → 地図によるインスペクト/ラベルコンポーネント</span>. 

結果図と結果図の違い
前の投稿 2-Dスカルプマッププロットは、各コンポーネントのプロパティをそれぞれ上の矩形ボタンをクリックすることでプロットできます。
コンポーネントのスカルプマップ。

![](/assets/images/94reject_ICAcomp.jpg)

たとえば、 *3* をラベルしたボタンをクリックして下さい。 このコンポーネントは
3つの理由でアイアーティファクトとして識別される:

1.  EEGスペクトル(ボトムパネル)を円滑に減少させるのは、
    目アーティファクト;
2.  頭皮の地図は目の典型的な強い遠方投射を示します
    アーティファクト; そして、
3.  コンポーネント内の個々の目の動きを見ることができます。 
[エルプイメージ。 m 点](http://sccn.ucsd.edu/eeglab/locatefile.php?file=erpimage.m) (右上のパネル)

アイアーティファクトは、EEGデータセットに常に存在します。 それらは、通常、コンポーネント配列のリーディングポジションにあります(それらが傾向があるため)
大きくなること)および頭皮のトポグラフィ(側面の目の会計なら)
動き) コンポーネント 3 か多分のように見て下さい(目のための会計なら
blinks) コンポーネント 10 (above) のような。 

コンポーネントプロパティ図を直接選択することでアクセスすることもできます。 
<span style="color: brown"> Plot → コンポーネントプロパティ</span>お問い合わせ (同等メニュー項目がございます)
チャンネル, <span style="color: brown"> Plot → チャネル特性</span>).

人工成分も視覚で識別しやすい
部品時間経過の点検 
(メニュー) <span style="color: brown">Plot → コンポーネントの活性化 (スクロール)</span> お問い合わせ


![](/assets/images/I94component3_properties.jpg)



このコンポーネントは、目のアクティビティのアカウントなので、サブトラクトをしたい場合があります。
さらなる分析とプロットの前にデータからそれ。 お問い合わせ
底緑 <span style="color: green">*受付* </span> ボタン(上)へ
赤に切り替える <span style="color: red"> *リジェクト*</span> ボタン(注記)
この点は、コンポーネントは拒否のためにのみマークされます。 マークされたサブトラクト
コンポーネントは、このページのセクションを参照してください。*データ*からICAコンポーネントを抽出する。 
プレス
*Ok*は、メインコンポーネントプロパティウィンドウに戻ります。

私たちの分解のもう一つのアーティファクト例は、コンポーネント32です。
典型的な筋肉アーティファクトコンポーネントであるように見えます。 このコンポーネントは
空間的にローカライズされ、高い周波数で高出力を示しています(20-50 Hz)
以下に示すように。


![](/assets/images/I94component32_properties.jpg)


アーティファクチュアルコンポーネントはしばしば遭遇しました(ただし、これには存在しません)
decomposition は単一チャネル(チャネル・ポップ)のアーティファクトであり、
シングルチャンネルは「オフ」、または23などのラインノイズのアーティファクトに行きます。 
ERPについて
下のイメージのプロットは60のHzのライン騒音を拾ったことを示します、
特に65以上の試験で。

![](/assets/images/I94component24_properties.jpg)

他の多くのコンポーネントが脳関連であるように見えます。 チュートリアルの異なるセクションは、使用して取引します [脳局在化のためのICAコンポーネント](/tutorials/09_source/DIPFIT.html).
コンポーネントが「ハーフアーティファクト、半脳関連」になれば?
この場合、コンポーネント23を無視するか、またICAの分解を再度実行しようとする場合があります。
クリーンなデータサブセットまたは他のICAトレーニングパラメータを使用して。 

親指のルールとして、アーティファクチュアルなデータ領域を除去することを学びました
一種のアーティファクトを含んだのは「きれいな」を得るために非常に有用です お問い合わせ
ICAコンポーネント。

ICA分解の品質を最適化
==========================

より良いICAの分解を得るとどういう意味ですか?
---------------------------------------
ICAは、すべてのトレーニングデータを考慮に入れます。 種類が多すぎる場合
(すなわち、スカルプ分布)ノイズ - 複雑な動きのアーティファクト、
電極 *pops* 等 -- は訓練データ、これらに残ります
ユニークで、不可解なデータ機能が* ICAの注意*を引き出します。
多くのシングルチャネルを含むコンポーネントマップのセットを作成するか、
ノイズ対応コンポーネント。 コンポーネントの数(程度)
自由)脳EEG単独の分解に専念する
対応する。 

そのため、ICAを提示するだけ*クリーン*
EEGは可能な限り最高の戦略です。 blink とその他
ステレオタイプのEEGアーティファクトは、必ずしも削除する必要はありません
それらは単一ICAの部品として隔離される可能性があります。 

ここでは*clean* EEGデータは、騒々しい時間セグメントを削除した後のデータを意味します(適用されません)
ICAコンポーネントの削除

ICAの実行前に適用される積極的なハイパスフィルタに対処する方法
---------------------------------------

ICAの分解は、データが1 Hz以上または2 Hz以上フィルタリングされたハイパスである場合、品質(非あいまいなコンポーネント)が著しく向上します。ハイパスフィルタリングは、不良品質のICA分解を修正するための最も簡単なソリューションです。 ただし、EEGデータ(ERP分析など)処理には、重要なデータ機能を削除しても2Hzのハイパスフィルタリングが最適ではない場合があります。 この場合、最適な戦略は以下であると考えています。

1.  非フィルタリング(または最小限にフィルタリング)データセット(データセット)で開始 1) 1
2.  1Hz または 2Hz でデータをフィルタリングし、データセット 2
3.  データセットでICAを実行 2
4.  結果の ICA の重量をデータセットに適用して下さい 1. ICA重量と球情報をコピーする
    dataset 1 から 2: まず、呼び出します <span style="color: brown">編集 → データセット情報</span> データセットのメニュー項目 1. それから *ICA の重量の配列の *ALLEEG(2).icaweights* を書き入れて下さい...* 編集箱、*ALLEEG(2).icasphere* の *ICA の球の配列の*...*の編集箱で*Ok*を押して下さい。

ICAコンポーネントは空間フィルタとして考えられ、元の非濾過データにこれらの空間フィルタを使用するのは完全に有効です。 唯一の制限は、強力なアーティファクトがICAを使用する前にろ過された低周波数帯域に影響するので、それらはICAによって削除されないことがあります。 慣行では、2 Hz以下のデータを合成するアーティファクチュアルなプロセスが 2 Hz を超えるデータを合成する傾向があるため、この問題は見つかりませんでした。

高品質のICA分解で何をすべきか
---------------------------------------

高品質のICA分解により、前のセクションに示すようにデータをフィルタリングすることができます。 もう一つの戦略は、以下の説明としてICAを実行する前に、アーティファクトのデータをaggreesivelyをきれいにすることです。

1.  非フィルタリング(または最小限にフィルタリング)データセット(データセット)で開始 1) 1
2.  データセットを手動でまたはEEGLABで提供した自動ツールを使用して、データセット2を入手する
3.  データセットでICAを実行 2
4.  結果の ICA の重量をデータセットに適用して下さい 1. ICA重量と球情報をコピーする
    dataset 1 から 2: まず、呼び出します <span style="color: brown">編集 → データセット情報</span> データセットのメニュー項目 1. それから *ICA の重量の配列の *ALLEEG(2).icaweights* を書き入れて下さい...* 編集箱、*ALLEEG(2).icasphere* の *ICA の球の配列の*...*の編集箱で*Ok*を押して下さい。

以前述べたように、ICAコンポーネントは空間フィルタと見なすことができます。また、これらの空間フィルタを元の非濾過データで使用することは完全に有効です。 このアプローチの1つの制限は、ICA分解の品質は、EEGデータの入力として提供される量によって異なります。 データの量を減らすと、ICA分解の全体的な品質が低下する可能性があります。

*corrupted* ICAの分解に対処する方法
---------------------------------------

Infomax ICA を使用する場合は、EEGLAB のデフォルトで、最初の 2 つのコンポーネントのアクティビティが吹き上げることができます。 これは、
2つのコンポーネントのアクティビティが互いに補正されます。 どちらのコンポーネントもほとんど
反対の極性と同一。 この場合、
ノイズの量が多いため、両方のコンポーネントが見られる。 お問い合わせ
以下に示す。

![](/assets/images/Comp_identical1.gif)

ランク欠乏症(次のセクションで説明)の場合、これは起こるかもしれません。 ただし、全ランキングデータでも発生することがあります。 この問題に対する解決策は明らかではありません。 1つの解決は別の使用することです
ICAアルゴリズム。 別のソリューションは、実験的である
PCAを用いた寸法の減少 例えば、
32 チャンネルで、10 までの寸法の減少は排除できます
問題(20に減少した)。 以下は同じデータですが、
10個のPCAコンポーネントのみで分解(最初のコンポーネントのみ表示)。 だけでなく、
上記の両方のコンポーネントアクティビティのこのコンポーネントアカウントは行いますが、
活性化中のノイズが消えます(つまり、より適切に割り当てられます)
ICA は他のコンポーネントプロセスへ 上記の騒音は最も可能性が高い
ここで強制されるICA分解アルゴリズムの不安定性に
他の人の活動を補う2つのコンポーネントを作成する。 お問い合わせ
下の単一の blink コンポーネントを取除くことは確かめません
上記の2つの非常に騒々しいコンポーネントを削除するために好ましい
正式な比較を実行しません。 私達の推論は2つの部品です
上記は他のコンポーネントのうるさいを作る傾向があるので、
PCA次元の減少の解決は好ましいです。

![](/assets/images/Comp_identical2.gif)

これは、PCAを体系的に行うべきだと言いません。 お問い合わせ
一般的に、PCAは非線形性を加えることによってデータが少し破損します、従って
いつでもフルランクのデータ行列を使用することをお勧めします。

Ghost ICAコンポーネントとも呼ばれる破損したICAコンポーネントの完全な議論は、これで利用可能です [ペーパー](https://www.frontiersin.org/articles/10.3389/frsip.2023.1064138/full) そしてこれ [1](https://www.frontiersin.org/articles/10.3389/fnimg.2023.1331404/full).

データランク不足の問題
---------------------------------------

nチャネルデータの計算平均参照時、データの順位
n-1に減少します。 なぜ? 潜在能力の合計が0だから
タイムポイント、最後のチャンネルアクティビティはマイナスの合計に等しい
その他。 ICAは、この(ランク防衛)ケースではうまく動作しません。

チャネルの数よりもデータが低い場合、EEGLAB
<em>pop_runica()</em> 関数はそれを検出し、それを行うために異なる戦略を使用する必要があります。

しかし、ランク
MATLABの計算は、特に生のEEGデータが重要であるため、非推奨です。
単一の精密行列として貯えられる。 したがって、ランクがいるケースもあります。
平均参照を使用して生じる減少は検出されません。 お問い合わせ
場合、ユーザーは手動でコンポーネントの数を減らす必要があります。 ICA分解が見つからない場合(このページに示すコンポーネントの種類と)、EEGLABが寸法の数を削減するMATLABコマンドラインをチェックしてください。 ケースがない場合、手動で修正できます。

たとえば、64チャンネルを使用する場合は、オプションの "'pca', 63" を入力します。
編集ボックス。 これをしないと、その活動の1つ
データに最も貢献するコンポーネントは重複する可能性があります(説明として)
前のセクションでは、ICAの分解は使用できません。

ICA前の積極的な自動アーティファクト除去に関連する問題
---------------------------------------

ICAが容易にICAによって訂正することができるデータ(blinksを含むデータ部分)を取除くことができる前の自動化されたアーティファクトの取り外し。 しかし、自動アーティファクト拒絶のしきい値の低下は、ICAが削除できない多くのアーティファクトを保持する可能性があります。 この場合、次の手順をお勧めします。

1.  アーティファクトを最小限に清掃したデータセット(または不良チャネルのみ削除)で開始
2.  このデータセットでICAを実行
3.  悪いICAコンポーネントを特定し、次のセクションで説明したようにデータを削除/サブトラクトする
4.  データの残りの部分を削除するために、より積極的なしきい値または戦略を使用して、再びデータセットをきれいにする

ICAを連続したデータの代わりにデータエポックに適用する
---------------------------------------

一般的には、ICAを連続データに使用することを推奨していますが、どのEPOCが抽出されたかのデータではありません。 まず、データエポックを抽出すると、サンプルの数が減り、より多くのデータが存在すると、ICAコンポーネントの品質が高くなります。 第二に、epochsのベースラインを外すことは気にしません。 エポックベースラインを取り戻すことができる <a href="https://pubmed.ncbi.nlm.nih.gov/19162199/">ICAの劇的な結果</a> それぞれのチャネルでランダムなオフセットを導入するので、ICAはモデルやコンペンセートはできません。 エポックを抽出し、エポックベースラインを削除することはできません。 その後、ICAを実行した後、ベースラインが削除される場合があります。

ただし、ICAをデータエポックに適用することも可能です。 ICAは、同じ統計モデルである、すなわち、データが文房具であることを期待しています
すべてのデータサンプルを生成します。 epochingの後で十分なデータがあれば、それから
epochedデータは、より文房具になるので好ましいかもしれません。 しかし、異なるイベントを生成する際、
異なるデータセットは、すべての条件で同じICA分解を使用することをお勧めします。 実際には、これは、ICAを実行する前に、すべてのエポックタイプを含むデータセットを作成することを意味するかもしれません。 一般的により多くのデータは、すべてのデータを仮定して、より良いICA分解を与えます
統計的には似ています。 より長いエポックは、より多くのデータをのために収まるので好ましいです
ICA(文具の採用) 

しかし、ICAの前にエポックしている場合、統計モデルをスケーリングするデータが複製されるため、ICAオーバーラップエポックをする必要はありません。 例えば、プレ刺激のベースライン部分
ターゲット刺激にタイムロックされたエポックは、いくつかの部分が含まれている可能性があります
前の非ターゲット刺激イベントにタイムロックされたエポック。 インフォマックス ICA
出演者: [pop_runica.m ディレクティブ](http://sccn.ucsd.edu/eeglab/locatefile.php?file=pop_runica.m)
データサンプルのタイムオーダーは考慮しませんが、時間を選択してください
訓練中のランダムな順序のサンプル。 そのため、データのサンプルを再現
連結されたデータセットは、より頻繁に使用される傾向があるだけ
トレーニング それではエポックが始まります
前のエポックの停止時間の前に時間がない、および停止
次のエポックの開始時刻が過ぎてはいけません。

ICAの後のデータを再参照する
---------------------------------------
一般的には、ICAの実行前に再会議が最善を尽くし、その後は変更されないままにします。 ICAは、トレーニング中に使用されている参照に固有の空間の混入モデルを学びます。 分解後の参照を変更するには、学習した非混合行列と矛盾するチャネルデータへの線形変換を適用します。 トランスフォーメーションはICAの分解にも適用されますが、ICAアクティベーションは独立したソースを厳密に表すことはできません。 実際には、これはコンポーネントの解釈性を劣化させ、特に新しい参照が平均的な参照で起こるように、データランクを削減するときに数値の問題を導入することができます。 これらの理由から、EEGLABは、ICAの後に再発酵に対して警告します。 下流分析のために異なる参照が必要な場合は、推奨されるアプローチは、ICAの前の参照を適用し、重量が変換されたデータのために有効であるように分解を再計算することです。

人工ICAコンポーネントの自動検出
==========================

ふりがな <a href="https://github.com/sccn/ICLabel">ICラベル</a>  Luca Pion-Tonachini のプラグインは、EEGLAB でデフォルトでインストールされている EEGLAB プラグインで、各タイプの推定を提供します。
独立したコンポーネント(脳、目、筋肉、線騒音など)。 ICLabelプロジェクトの目標は、大規模な研究で使用するのに十分な信頼性と正確であるEEG ICの分類器を開発することです。 現在の分類器の実装は、数千の手動ラベル付きICと数千の未分類ICで訓練されています。 詳細については、 <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6592775/">ICLabel リファレンス記事</a>お問い合わせ ふりがな <a href="http://labeling.ucsd.edu/tutorial/about">ICLabelウェブサイト</a>  また、コンポーネントを認識し、専門家とのパフォーマンスを比較するために訓練することができます。 ICLabelは、アーティファクチュアルICAコンポーネントを自動的に見つけることができる多くのそのようなEEGLABプラグインの1つです。 ICAコンポーネントを自動的にラベル付けするためのその他のプラグインやツールボックスは、MARA、FASTER、SASICA、ADUST、IC_MARKです。 

ICAを実行したら、メニュー項目を選択します。 <span style="color: brown">ツール → ICLabel → ラベルコンポーネントを使用してコンポーネントを分類する</span>お問い合わせ デフォルトを選択し、[OK] を押します。

![](/assets/images/iclabel1.png)

2番目のウィンドウがポップアップし、コンポーネントをプロットするように要求します。 *Ok*を押すだけ。

![](/assets/images/iclabel2.png)

コンポーネントをクリックすると、コンポーネントがポップアップ表示されます
コンポーネントプロパティ対策の拡張されたセットを持つウィンドウ、および
各成分の推定能力は、各種類である。
ICコンポーネントは、そのカテゴリに所属する可能性のあるカテゴリと、そのカテゴリに属する可能性と一緒にプロットされます。 *Ok*を押してください。

MATLABコマンドラインでコンポーネントが指定されたカテゴリに所属する確率も利用できます。 コンポーネントの6つのカテゴリがあります <i>ログイン</i>, <i>筋肉</i>, <i>ログイン</i>, <i>ハート</i>, <i>ライン騒音</i>, <i>チャネルの騒音</i>と <i>その他</i>お問い合わせ MATLAB プロンプトの次のコマンドを入力すると、コンポーネントカテゴリ(列)の 1 つに属する最初の 10 個のコンポーネント(列)ごとに確率が確認できます。

``` matlab
>>  round(EEG.etc.ic_classification.ICLabel.classifications(1:10,:)*100)

ans =

  10×7 single matrix

    12     0     1     0    26     1    60
     4     0     0     0    95     0     0
    10     0     4     0    14     1    71
    20     0     0     1    28     1    50
     9     0    53     2     9     2    26
     5     0     0     1    80     0    14
    74     0     0     0    12     0    14
     1     0    85     0     8     2     4
     7     0     0     0    41     4    48
    23     0     0     0    21     0    56
```

メニュー項目を選択 <span style="color: brown">ツール → ICLabel → フラグコンポーネントを使用してコンポーネントをアーティファクトとして分類する</span>お問い合わせ デフォルトは、筋肉や目のアーティファクト(目の点滅と目の動き)カテゴリにある90%以上の確率を持つそれらのコンポーネントをラベル付けすることです。 この関数を使用してコンポーネントがフラグが付けられているとき、ボタンは手動でコンポーネントを拒否するためのインタフェースで赤表示されます()<span style="color: brown">ツール → ICA → コンポーネントをマップで拒否する</span>)、そのため、どのコンポーネントがアーティファクトとしてフラグが付けられているかを編集できます。

![](/assets/images/iclabel3.png)

データからICAコンポーネントを抽出する
==========================

典型的に私達は全体の独立した引き込みません
データセットからコンポーネントプロセスを調べる
個々のコンポーネント(要約されたスカルプチャネルよりもむしろ)活動。 また、ICAコンポーネントの削除、STUDYレベル(グループ分析レベル)では、アーティファクトとしてフラグを立てているコンポーネント、手動でまたは自動化されたメソッドを使用しても、自動的にデータから引き下げることができます。 そのため、EEGデータからコンポーネントを物理的に削除/抽出する必要はありません。

しかし、コンポーネントを削除したい場合は、 
<span style="color: brown">ツール → コンポーネントを削除</span> メニュー項目は、 
[pop_subcomp.m ディレクティブ](http://sccn.ucsd.edu/eeglab/locatefile.php?file=pop_subcomp.m)
 機能。 
 
コンポーネント番号に含まれる
結果ウィンドウ(下)のデフォルトは、拒否のためにマークされているもの
過去の <span style="color: brown">ツール → ICA → コンポーネントをマップで拒否する</span> 
コンポーネントの reject ウィンドウ (* を使用して)<span style="color: green">お問い合わせ</span> または <span style="color: red">リジェクト</span>*
ボタン) 

![](/assets/images/pop_selectcomp25.png)

*Yes* を押すか、*Manual rej* ボタンを選択してコンポーネントのリストを手動で編集できます。

![](/assets/images/pop_subcomp.png)

拒否したいコンポーネント番号を入力してください(この場合、コンポーネント3を離れ、*Ok*を押します。) コンポーネント 3 は、あなたのケースで目の blink のアーティファクトではないかもしれないことに注意してください。 ICAの分解が若干異なるため、対応するコンポーネントを手動で(または、アーティファクチュアルICAコンポーネントの自動検出を使用して)選択する必要があります。 以下に示すように、コンポーネントを拒否前後のデータを比較したい場合は、ウィンドウがポップアップ表示されます。

![](/assets/images/pop_selectcomp22.png)

*Plotシングルトライアル*プッシュボタンをクリックします。 前のデータ(黒)と後
(赤) コンポーネント(s) 減算。 私たちは、ICAがblinkアーティファクトを削除したのを明らかにすることができます。

![](/assets/images/pop_selectcomp23.png)

データエポックでICAコンポーネントを削除している場合は、クリックしてください
*Plot ERPs* pushbutton -- 可能です
ICAを実行し、エポックを抽出し、ICAコンポーネントを削除します。 このチュートリアルでは連続したデータを使用していますので、
ERPをプロットすることはできません。 ERPを抽出した場合、同様のプロットを得る
下の1つに、チャネルERPを(青)前後にプロットする
(赤) コンポーネント(s) 減算。

![](/assets/images/pop_selectcomp24.png)

結果に満足したら、クエリウィンドウの*Accept*ボタンを押して下さい。 あなたが名前を変更したい場合は、別のウィンドウがポップアップ表示されます
新しいデータセット。 名前をつけ、再度押す*Ok*。

このチュートリアルの残りの部分では、ICAを実行した後、我々はすべてのコンポーネントを保持することを追求していますので、あなたはERPにアーティファクチュアルコンポーネントの貢献を感謝することができます。 
